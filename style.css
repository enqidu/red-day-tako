/* Pixel fireworks background + fixed banner + proper layering */
:root{
  --bg: #0b0b12;
  --fg: #f8f8ff;
  --accent: #ff3b3b;
  --glow: #ff7d7d;
}
*{ box-sizing: border-box; }
html, body{ height:100%; }
body{
  margin:0;
  background: radial-gradient(circle at 50% 20%, #111526 0%, #0b0b12 50%, #07070c 100%);
  color: var(--fg);
  font-family: ui-monospace, Menlo, Consolas, "Courier New", monospace;
  image-rendering: pixelated;
  overflow: hidden;
}

/* layers */
#fw{ position: fixed; inset: 0; z-index: 0; }
.banner{
  position: fixed;
  top: 12px;
  left: 50%;
  transform: translateX(-50%);
  text-align: center;
  z-index: 3;
  user-select: none;
}
.banner h1{
  margin: 0 0 8px 0;
  font-size: clamp(20px, 5vw, 56px);
  letter-spacing: 2px;
  color: var(--accent);
  text-shadow: 0 0 8px var(--glow), 0 0 16px var(--glow);
  filter: contrast(130%);
}
.banner h1 .small{ color: #ffd966; }
.banner .hint{ margin: 4px 0 8px; font-size: 13px; opacity: .85; }

.cta{
  pointer-events: auto;
  cursor: pointer;
  background: #111827;
  color: #ffd966;
  border: 2px solid #ffd966;
  padding: 8px 14px;
  font-size: clamp(12px, 2.2vw, 18px);
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(255,217,102,.3);
}
.cta:hover{ transform: translateY(-1px); }

/* Stage holds sprites & bubbles; absolute children use its coordinate system */
#stage{
  position: fixed;
  inset: 0;
  z-index: 1;
}
.sprite{
  position: absolute;
  will-change: transform;
  transform-origin: top left;
  filter: drop-shadow(0 4px 0 rgba(0,0,0,.5));
  pointer-events: auto;
}

/* speech bubbles (positioned relative to #stage) */
.speech{
  position: absolute;
  background: rgba(0,0,0,0.75);
  color: #fff;
  font-size: 14px;
  padding: 4px 8px;
  border-radius: 6px;
  white-space: nowrap;
  transform: translate(-50%, -100%);
  animation: fadeBubble 1.4s ease forwards;
  pointer-events: none;
  z-index: 2;
}
@keyframes fadeBubble{
  0%{ opacity:0; transform: translate(-50%, -120%) scale(.9); }
  20%{ opacity:1; transform: translate(-50%, -100%) scale(1); }
  80%{ opacity:1; }
  100%{ opacity:0; transform: translate(-50%, -140%) scale(.95); }
}

/* overlay above everything */
#overlay{
  position: fixed; inset: 0; display: grid; place-items: center;
  background: rgba(0,0,0,0.6);
  z-index: 4; opacity: 0; pointer-events:none; transition: opacity .5s ease;
}
#overlay.active{ opacity:1; pointer-events:auto; }
.reveal-img{
  max-width: min(92vw, 1000px);
  max-height: 78vh;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,.6);
  animation: zoomIn 1.2s ease forwards;
  transform: scale(.9);
}
.reveal-text{
  position: absolute; bottom: 6vh; width: 100%; text-align:center;
  font-weight: 800; letter-spacing: 2px; color: #fff;
  text-shadow: 0 0 10px #000, 0 0 18px #000;
  font-size: clamp(20px, 6vw, 56px);
  opacity: 0; animation: textIn 1.1s ease .5s forwards;
}
@keyframes zoomIn{ from{transform:scale(.9);} to{transform:scale(1.08);} }
@keyframes textIn{ from{ transform: translateY(20px); opacity:0; } to{ transform:none; opacity:1; } }

/* Footer */
.footer{ position: fixed; right: 10px; bottom: 8px; font-size:12px; opacity:.6; z-index:2; }
.footer a{ color: #c7c9ff; text-decoration: none; border-bottom: 1px dotted currentColor; }
.footer a:hover{ opacity:.9; }
